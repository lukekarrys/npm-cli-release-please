# This file is automatically added by @npmcli/template-oss. Do not edit.

name: Test

inputs:
  all:
    description: run on all workspaces
    default: false
    type: boolean
  shell:
    description: shell to run on
    default: bash

runs:
  using: composite
  steps:
    - name: Add Problem Matcher
      shell: ${{ inputs.shell }}
      run: echo "::add-matcher::.github/matchers/tap.json"

    - name: Test
      shell: ${{ inputs.shell }}
      run: |
        FLAGS="${{ (inputs.all && '-ws -iwr --if-present') || '' }}"
        npm test --ignore-scripts "$FLAGS"
